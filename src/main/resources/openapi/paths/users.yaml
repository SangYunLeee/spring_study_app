post:
  tags:
    - users
  summary: 사용자 생성
  description: |
    새로운 사용자를 생성합니다.

    **제약사항:**
    - 이메일은 중복될 수 없습니다
    - 나이는 0 이상 150 이하여야 합니다
    - 이름은 최소 1자 이상이어야 합니다
  operationId: createUser
  requestBody:
    description: 생성할 사용자 정보
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas/requests/CreateUserRequest.yaml'
        examples:
          general:
            summary: 일반 사용자 생성
            value:
              name: 홍길동
              email: hong@example.com
              age: 25
          youngUser:
            summary: 미성년자 생성
            value:
              name: 김영희
              email: young@example.com
              age: 17
  responses:
    '201':
      description: 사용자 생성 성공
      headers:
        Location:
          description: 생성된 리소스의 URI (클라이언트가 GET 요청으로 조회 가능)
          schema:
            type: string
            example: /api/users/1
      content:
        application/json:
          schema:
            $ref: '../schemas/responses/UserResponse.yaml'
          example:
            id: 1
            name: 홍길동
            email: hong@example.com
            age: 25
    '400':
      $ref: '../api-spec.yaml#/components/responses/BadRequest'

get:
  tags:
    - users
  summary: 사용자 목록 조회 (페이징 지원)
  description: |
    시스템에 등록된 사용자를 페이지네이션과 정렬을 지원하여 조회합니다.

    **페이지네이션:**
    - `page`: 조회할 페이지 번호 (0부터 시작)
    - `size`: 한 페이지당 데이터 개수
    - `sort`: 정렬 기준 (예: `name,asc` 또는 `age,desc`)

    **예시:**
    - `GET /api/users?page=0&size=10` : 첫 10개
    - `GET /api/users?page=1&size=10` : 다음 10개
    - `GET /api/users?page=0&size=10&sort=age,desc` : 나이 많은 순으로 10개
  operationId: getAllUsers
  parameters:
    - name: page
      in: query
      description: 페이지 번호 (0부터 시작)
      required: false
      schema:
        type: integer
        format: int32
        minimum: 0
        default: 0
        example: 0
    - name: size
      in: query
      description: 페이지 크기 (한 페이지당 항목 수)
      required: false
      schema:
        type: integer
        format: int32
        minimum: 1
        maximum: 100
        default: 20
        example: 10
    - name: sort
      in: query
      description: |
        정렬 기준 (형식: `필드명,방향`)

        **정렬 가능 필드:** name, email, age, createdAt
        **정렬 방향:** asc (오름차순), desc (내림차순)

        **예시:**
        - `name,asc` : 이름 오름차순
        - `age,desc` : 나이 내림차순
        - `createdAt,desc` : 최근 가입 순
      required: false
      schema:
        type: string
        example: "name,asc"
  responses:
    '200':
      description: 조회 성공
      content:
        application/json:
          schema:
            $ref: '../schemas/responses/PagedUserResponse.yaml'
          examples:
            pagedUsers:
              summary: 페이지네이션된 사용자 목록
              value:
                content:
                  - id: 1
                    name: 홍길동
                    email: hong@example.com
                    age: 25
                  - id: 2
                    name: 김철수
                    email: kim@example.com
                    age: 30
                totalElements: 100
                totalPages: 10
                number: 0
                size: 10
                first: true
                last: false
            empty:
              summary: 데이터가 없는 경우
              value:
                content: []
                totalElements: 0
                totalPages: 0
                number: 0
                size: 10
                first: true
                last: true